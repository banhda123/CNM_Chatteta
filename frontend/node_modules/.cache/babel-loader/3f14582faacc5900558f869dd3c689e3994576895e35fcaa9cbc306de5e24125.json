{"ast":null,"code":"import io from 'socket.io-client';\nimport { API_URL } from './api';\nlet socket = null;\nexport const getSocket = () => {\n  if (!socket) {\n    const token = localStorage.getItem('token');\n    if (!token) return null;\n    socket = io(API_URL.replace('/api', ''), {\n      auth: {\n        token: `Bearer ${token}`\n      }\n    });\n  }\n  return socket;\n};\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport const socketEvents = {\n  // User events\n  UPDATE_STATUS: 'update-status',\n  STATUS_CHANGED: 'status-changed',\n  // Friend events\n  FRIEND_REQUEST: 'friend-request',\n  FRIEND_REQUEST_ACCEPTED: 'friend-request-accepted',\n  FRIEND_REQUEST_REJECTED: 'friend-request-rejected',\n  FRIEND_REMOVED: 'friend-removed',\n  // Chat events\n  JOIN_CONVERSATION: 'join-conversation',\n  LEAVE_CONVERSATION: 'leave-conversation',\n  SEND_MESSAGE: 'send-message',\n  NEW_MESSAGE: 'new-message',\n  MESSAGE_DELIVERED: 'message-delivered',\n  MESSAGE_READ: 'message-read',\n  // File events\n  FILE_UPLOADED: 'file-uploaded',\n  FILE_DOWNLOADED: 'file-downloaded'\n};","map":{"version":3,"names":["io","API_URL","socket","getSocket","token","localStorage","getItem","replace","auth","disconnectSocket","disconnect","socketEvents","UPDATE_STATUS","STATUS_CHANGED","FRIEND_REQUEST","FRIEND_REQUEST_ACCEPTED","FRIEND_REQUEST_REJECTED","FRIEND_REMOVED","JOIN_CONVERSATION","LEAVE_CONVERSATION","SEND_MESSAGE","NEW_MESSAGE","MESSAGE_DELIVERED","MESSAGE_READ","FILE_UPLOADED","FILE_DOWNLOADED"],"sources":["D:/CNM/CNM_Zalo_Nhom10/frontend/src/services/socket.js"],"sourcesContent":["import io from 'socket.io-client';\r\nimport { API_URL } from './api';\r\n\r\nlet socket = null;\r\n\r\nexport const getSocket = () => {\r\n  if (!socket) {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return null;\r\n    \r\n    socket = io(API_URL.replace('/api', ''), {\r\n      auth: {\r\n        token: `Bearer ${token}`\r\n      }\r\n    });\r\n  }\r\n  return socket;\r\n};\r\n\r\nexport const disconnectSocket = () => {\r\n  if (socket) {\r\n    socket.disconnect();\r\n    socket = null;\r\n  }\r\n};\r\n\r\nexport const socketEvents = {\r\n  // User events\r\n  UPDATE_STATUS: 'update-status',\r\n  STATUS_CHANGED: 'status-changed',\r\n  \r\n  // Friend events\r\n  FRIEND_REQUEST: 'friend-request',\r\n  FRIEND_REQUEST_ACCEPTED: 'friend-request-accepted',\r\n  FRIEND_REQUEST_REJECTED: 'friend-request-rejected',\r\n  FRIEND_REMOVED: 'friend-removed',\r\n  \r\n  // Chat events\r\n  JOIN_CONVERSATION: 'join-conversation',\r\n  LEAVE_CONVERSATION: 'leave-conversation',\r\n  SEND_MESSAGE: 'send-message',\r\n  NEW_MESSAGE: 'new-message',\r\n  MESSAGE_DELIVERED: 'message-delivered',\r\n  MESSAGE_READ: 'message-read',\r\n  \r\n  // File events\r\n  FILE_UPLOADED: 'file-uploaded',\r\n  FILE_DOWNLOADED: 'file-downloaded'\r\n}; "],"mappings":"AAAA,OAAOA,EAAE,MAAM,kBAAkB;AACjC,SAASC,OAAO,QAAQ,OAAO;AAE/B,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAC7B,IAAI,CAACD,MAAM,EAAE;IACX,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;IAEvBF,MAAM,GAAGF,EAAE,CAACC,OAAO,CAACM,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;MACvCC,IAAI,EAAE;QACJJ,KAAK,EAAE,UAAUA,KAAK;MACxB;IACF,CAAC,CAAC;EACJ;EACA,OAAOF,MAAM;AACf,CAAC;AAED,OAAO,MAAMO,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIP,MAAM,EAAE;IACVA,MAAM,CAACQ,UAAU,CAAC,CAAC;IACnBR,MAAM,GAAG,IAAI;EACf;AACF,CAAC;AAED,OAAO,MAAMS,YAAY,GAAG;EAC1B;EACAC,aAAa,EAAE,eAAe;EAC9BC,cAAc,EAAE,gBAAgB;EAEhC;EACAC,cAAc,EAAE,gBAAgB;EAChCC,uBAAuB,EAAE,yBAAyB;EAClDC,uBAAuB,EAAE,yBAAyB;EAClDC,cAAc,EAAE,gBAAgB;EAEhC;EACAC,iBAAiB,EAAE,mBAAmB;EACtCC,kBAAkB,EAAE,oBAAoB;EACxCC,YAAY,EAAE,cAAc;EAC5BC,WAAW,EAAE,aAAa;EAC1BC,iBAAiB,EAAE,mBAAmB;EACtCC,YAAY,EAAE,cAAc;EAE5B;EACAC,aAAa,EAAE,eAAe;EAC9BC,eAAe,EAAE;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}