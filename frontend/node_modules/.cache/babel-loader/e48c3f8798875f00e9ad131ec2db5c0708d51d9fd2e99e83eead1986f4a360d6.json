{"ast":null,"code":"import api from './api';\nconst login = async (username, password) => {\n  try {\n    const response = await api.post('/auth/login', {\n      username,\n      password\n    });\n    if (response.success) {\n      localStorage.setItem('token', response.token);\n      localStorage.setItem('user', JSON.stringify(response.user));\n      return response;\n    } else {\n      throw new Error(response.message || 'Đăng nhập thất bại');\n    }\n  } catch (error) {\n    console.error('Login error:', error);\n    throw error;\n  }\n};\nconst register = async userData => {\n  try {\n    const response = await api.post('/auth/register', userData);\n    return response;\n  } catch (error) {\n    console.error('Register error:', error);\n    throw error;\n  }\n};\nconst logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n  window.location.href = '/login';\n};\nconst isAuthenticated = () => {\n  return !!localStorage.getItem('token');\n};\nconst getCurrentUser = () => {\n  const userStr = localStorage.getItem('user');\n  return userStr ? JSON.parse(userStr) : null;\n};\nexport const authService = {\n  login,\n  register,\n  logout,\n  isAuthenticated,\n  getCurrentUser\n};","map":{"version":3,"names":["api","login","username","password","response","post","success","localStorage","setItem","token","JSON","stringify","user","Error","message","error","console","register","userData","logout","removeItem","window","location","href","isAuthenticated","getItem","getCurrentUser","userStr","parse","authService"],"sources":["D:/CNM/CNM_Zalo_Nhom10/frontend/src/services/auth.js"],"sourcesContent":["import api from './api';\r\n\r\nconst login = async (username, password) => {\r\n  try {\r\n    const response = await api.post('/auth/login', { username, password });\r\n    if (response.success) {\r\n      localStorage.setItem('token', response.token);\r\n      localStorage.setItem('user', JSON.stringify(response.user));\r\n      return response;\r\n    } else {\r\n      throw new Error(response.message || 'Đăng nhập thất bại');\r\n    }\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst register = async (userData) => {\r\n  try {\r\n    const response = await api.post('/auth/register', userData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Register error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  window.location.href = '/login';\r\n};\r\n\r\nconst isAuthenticated = () => {\r\n  return !!localStorage.getItem('token');\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n  const userStr = localStorage.getItem('user');\r\n  return userStr ? JSON.parse(userStr) : null;\r\n};\r\n\r\nexport const authService = {\r\n  login,\r\n  register,\r\n  logout,\r\n  isAuthenticated,\r\n  getCurrentUser\r\n}; "],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAE;MAAEH,QAAQ;MAAEC;IAAS,CAAC,CAAC;IACtE,IAAIC,QAAQ,CAACE,OAAO,EAAE;MACpBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACK,KAAK,CAAC;MAC7CF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAC3D,OAAOR,QAAQ;IACjB,CAAC,MAAM;MACL,MAAM,IAAIS,KAAK,CAACT,QAAQ,CAACU,OAAO,IAAI,oBAAoB,CAAC;IAC3D;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACpC,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAME,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EACnC,IAAI;IACF,MAAMd,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,gBAAgB,EAAEa,QAAQ,CAAC;IAC3D,OAAOd,QAAQ;EACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACvC,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAMI,MAAM,GAAGA,CAAA,KAAM;EACnBZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;EAChCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;EAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACjC,CAAC;AAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAC5B,OAAO,CAAC,CAACjB,YAAY,CAACkB,OAAO,CAAC,OAAO,CAAC;AACxC,CAAC;AAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAC3B,MAAMC,OAAO,GAAGpB,YAAY,CAACkB,OAAO,CAAC,MAAM,CAAC;EAC5C,OAAOE,OAAO,GAAGjB,IAAI,CAACkB,KAAK,CAACD,OAAO,CAAC,GAAG,IAAI;AAC7C,CAAC;AAED,OAAO,MAAME,WAAW,GAAG;EACzB5B,KAAK;EACLgB,QAAQ;EACRE,MAAM;EACNK,eAAe;EACfE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}